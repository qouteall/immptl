import{_ as a}from"./plugin-vue_export-helper.21dcd24c.js";import{o as i,c as t,e}from"./app.0c870a62.js";const o={},n=e('<h1 id="portal-animation" tabindex="-1"><a class="header-anchor" href="#portal-animation" aria-hidden="true">#</a> Portal Animation</h1><p><strong>Note: The new portal animation system was introduced in 2.3.0 version.</strong></p><p><strong>The portal animation system is not yet finished and may change any time.</strong></p><p>There are two kinds of portal animations:</p><ol><li>The default animation. Triggered when changing the portal using <code>/portal</code> commands. It only animates on client side. On the server side it moves abruptly. Cannot do relative teleportation. Can only do transition.</li><li>The custom animation. Controlled by the animation driver data inside portal. Supports adding multiple animations altogether. Can do complex animation. Both client side and server side portal animates. Supports relative teleportation.</li></ol><p>This page mainly talks about the custom animation. <a href="./Portal-Attributes#portal-default-animation">Default animation is described here.</a></p><h2 id="examples" tabindex="-1"><a class="header-anchor" href="#examples" aria-hidden="true">#</a> Examples</h2><p>Make the portal to infinitely rotate around me: <code>/portal animation rotate_infinitely @s 0 1 0 1.0</code> (<code>0 1 0</code> is the rotation axis vector. <code>1.0</code> means it rotates 1 degree per tick.)</p><p>Make the portal to expand from its center: <code>/portal animation expand_from_center 20</code></p><p>Give the portal a random rotation: <code>/portal animation rotate_infinitely_random</code></p><p>Make the portal to oscillate:</p><ul><li><code>/portal animation build begin</code> (begin building)</li><li><code>/portal move_portal 5</code> (move the portal forward 5 blocks)</li><li><code>/portal animation build append_phase 60</code> (add an animation phase with duration of 60 ticks)</li><li><code>/portal animation build finish</code> (finish building animation and make the animation to repeat infinitely)</li></ul><p>Pause the animation <code>/portal animation pause</code></p><p>Resume the animation <code>/portal animation resume</code></p><p>Clear the animation on this side: <code>/portal animation clear</code></p><h2 id="animation-drivers" tabindex="-1"><a class="header-anchor" href="#animation-drivers" aria-hidden="true">#</a> Animation Drivers</h2><p>A bi-way bi-faced portal is actually a portal cluster formed by 4 portal entities. Only one of these 4 portal entities will be the animation holder.</p><p>The animation of a portal cluster contains two parts: this-side animation and other-side animation.</p><p>This-side animation can contain a list of animation drivers. In each frame, different animation driver will give the portal a transformation and their transformations can add up. The same applies to other-side animations.</p><p>Currently, there are two kinds of animation drivers: The rotation animation and normal animation.</p><h2 id="rotation-animation" tabindex="-1"><a class="header-anchor" href="#rotation-animation" aria-hidden="true">#</a> Rotation Animation</h2><p>You can use command <code>/portal animation rotate_infinitely ...</code> to make a portal to rotate infinitely along an axis around a point. There are other rotation animation commands.</p><p>One portal can have multiple rotation animations at the same time and they will add up.</p><h2 id="normal-animation" tabindex="-1"><a class="header-anchor" href="#normal-animation" aria-hidden="true">#</a> Normal Animation</h2><p>A normal animation driver contains some <strong>phases</strong> and can repeat for arbitrary number of times.</p><p>You can build a normal animation using <code>/portal animation build</code> command:</p><ol><li>Use <code>/portal animation build begin</code> to begin building.</li><li>Do some transformation to the portal, for example moving the portal, rotating the portal, changing destination.</li><li>Use <code>/portal animation build append_phase &lt;durationTicks&gt;</code> to add a new phase according to the transformations.</li><li>Repeat step 2 and step 3 as you want.</li><li>Use <code>/portal animation build finish</code> to finish building the animation and get a infinitely repeating animation. If you want the animation to repeat for 1 time, use <code>/portal animation build finish 1</code>.</li></ol><p>One portal can have multiple normal animations at the same time and they will add up.</p><h2 id="relative-teleportation" tabindex="-1"><a class="header-anchor" href="#relative-teleportation" aria-hidden="true">#</a> Relative Teleportation</h2><p>The custom animations (driven by animation drivers) allow relative teleportation: If the portal moves through you, you get teleported.</p><p>In contrast, the default animation is visual-only and won&#39;t do relative teleportation.</p><h2 id="other-details" tabindex="-1"><a class="header-anchor" href="#other-details" aria-hidden="true">#</a> Other Details</h2><p>A bi-way bi-faced portal is actually a portal cluster formed by 4 portal entities. Only one of these 4 portal entities will be the animation holder.</p><p>The animation holder portal contains:</p><ul><li>A list of this-side animation drivers</li><li>A list of other-side animation drivers</li><li>A reference this-side portal state</li><li>A reference other-side portal state</li></ul><p>The animations of the two sides are separated. Each animation driver is separated from other animation drivers.</p><p>In each frame, the animation holder portal will do animation update for both this-side and other-side. Each animation driver will apply its transform to the reference state, and then get the current portal state.</p><p>Some animation drivers are time-limited and will be removed at some time. Some animation drivers are infinite and will keep running until you clear it.</p>',38),r=[n];function l(d,s){return i(),t("div",null,r)}var h=a(o,[["render",l],["__file","Portal-Animation.html.vue"]]);export{h as default};
